---
title: "MPC 钱包的余额和交易金额"
lang: "zh-hans"
description: "了解 MPC 钱包中的余额和交易金额，包括定义和更新时间。"
---
<Note>本文档由 AI 辅助翻译。如需确认内容准确性，请参考[英文官方文档](https://www.cobo.com/developers/v2/guides/overview/introduction)。</Note>
[按地址列出代币余额](/v2/api-references/wallets/list-token-balances-by-address) 操作在 `data.balance` 属性中返回四种类型的余额和交易金额。本文解释了这些值的定义以及它们在 MPC 钱包交易中何时更新。

## 定义

| 属性                 | 类型              | 定义                                                   |
| ------------------------ | ----------------- | ------------------------------------------------------------ |
| `data.balance.total`     | 当前余额   | 地址中的当前代币数量，直接从网络中检索。 |
| `data.balance.pending`   | 待处理金额    | 交易中正在发送的总金额，计算为提币金额加上交易费用。 |
| `data.balance.locked`    | 锁定金额     | 对于 UTXO 链，这是为交易选择的 UTXO 的总值，可能超过待处理金额。对于其他链，它等于待处理金额。 |
| `data.balance.available` | 可用余额 | 准备花费的代币数量，计算为当前余额减去待处理金额。 |

此图说明了这些值之间的关系：

<img src="/cn/images/guides/balances_amount.svg" className="diagram" alt="多种类型余额和金额的定义"></img>

## 更新时间

这些值在充币和提币交易期间在不同时间更新。

### 充币

1. 当交易收到第一个区块确认时，更新当前余额。
2. 如果发生重组，当前余额将更新以反映区块链上的最新余额。

### 提币

1. 提交提币请求时：
   - 当前余额：不更新
   - 待处理金额：等于 0
   - 锁定金额：等于 0
   - 可用余额：等于当前余额
2. 当交易处于 `PendingSignature` 子状态时：
   - 当前余额：不更新。
   - 待处理金额：提币金额加上交易费用。
   - 锁定金额：对于 UTXO 链，这是为交易选择的 UTXO 的总值。对于其他链，它等于待处理金额。
   - 可用余额：当前余额减去待处理金额。
3. 当交易收到第一个区块确认时：
   - 当前余额：更新以反映区块链上的最新余额。
   - 待处理金额：等于 0。
   - 锁定金额：等于 0。
   - 可用余额：等于当前余额。
4. 当发生重组时，所有值都将恢复到交易处于 `PendingSignature` 子状态时的状态：
   - 当前余额：恢复到原始余额。
   - 待处理金额：提币金额加上交易费用。
   - 锁定金额：对于 UTXO 链，这是为交易选择的 UTXO 的总值。对于其他链，它等于待处理金额。
   - 可用余额：当前余额减去待处理金额。
5. 如果交易失败：
   - 当前余额：恢复到原始余额。
   - 待处理金额：等于 0。
   - 锁定金额：等于 0。
   - 可用余额：等于当前余额。

## Replace-By-Fee (RBF) 交易

如果您使用 RBF 交易加速交易，则 RBF 交易将用于计算待处理金额和锁定金额。

如果您使用 RBF 交易取消交易，则原始交易将用于计算待处理金额和锁定金额。

## 最大可转移金额

最大可提币金额受到交易费用、可用余额和锁定金额的影响：

- (提币金额 + 交易费用) > 可用余额：无法提交提币请求。
- (提币金额 + 交易费用) ≤ (当前余额 - 锁定金额)：您的提币请求将被立即处理。
- (当前余额 - 锁定金额) < (提币金额 + 交易费用) ≤ 可用余额：您可以成功提交提币请求，但您的交易将被排队。

<Tip>欢迎您[提交反馈](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI)来帮助改进我们的文档！</Tip>